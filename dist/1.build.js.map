{"version":3,"sources":["webpack:///./src/views/projectCost/index.vue","webpack:///costDetails.vue","webpack:///index.vue?53b6","webpack:///./src/views/projectCost/child/costDetails.vue?61ee","webpack:///./src/style/index.styl?6ce2","webpack:///./src/style/index.styl?2913","webpack:///./src/views/projectCost/child/costDetails.vue","webpack:///./src/views/projectCost/child/costDetails.vue?6de1","webpack:///./src/views/projectCost/index.vue?ce16","webpack:///./src/views/projectCost/child/costDetails.vue?d8a9","webpack:///./src/style/index.styl?9342","webpack:///./src/style/index.styl?27c8"],"names":[],"mappings":";;;;;;AACA;AACA,uBAA2N;;AAE3N;AACA;AACA;AACA;AACA,yBAAyH;AACzH;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACkEA;WAEA;;sBAEA;kBACA;mBAEA;AAJA;AAKA;;qBAEA;qBAEA;AAHA;cAIA,CACA;;iBAEA;wZACA;AACA;sBACA;;sBAEA;sBACA;yBACA;4BAEA;AALA;;wCAOA;+BACA;2BACA;4BACA;AAJA,4BAKA;wCACA;gDACA;uBACA;wCACA;AACA;wBACA;AACA;AACA;6BACA;;sBAEA;sBACA;yBACA;4BAEA;AALA;;8BAOA;AADA,4BAEA;2BACA;wCACA;oCACA;+CACA;uCACA;2CACA;wCACA;4CACA;6CACA;uBACA;wCACA;AACA;wBACA;AACA;AACA;sBACA;iDACA;;gEAEA;6DACA;2EACA;mDAHA,CAIA;8DACA;yCACA;sDACA;;AACA;AACA;kDACA;gDACA;yDACA;gDACA;AACA;;;AACA;;;AACA;AACA;0DACA;yCACA;6CACA;mEACA;oEACA;8DACA;gCACA;uBACA;qCACA;oCACA;6DACA;AACA;AAEA;AACA;eACA;;sBAEA;sBACA;yBACA;4BAEA;AALA;;2BAOA;AADA,4BAEA;wCACA;;8BAEA;iCAEA;AAHA;uBAIA;wCACA;AACA;wBACA;AACA;AAEA;AA1GA;AAdA,G;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACqEA;AACA;WAEA;;yBAEA;8BACA;2BACA;6GACA;kBACA;+BACA;yBACA;6FACA;yBACA;yBACA;yBACA;yBAEA;AAbA;AAcA;;AAGA;AAFA;cAGA;aACA;aACA;AACA;;sBAEA;4EACA;wCACA;gDACA;uBACA;wCACA;AACA;AACA;AACA;mCACA;qCACA;AACA;kBACA;;sBAEA;sBACA;yBACA;4BAEA;AALA;;kCAOA;4BACA;6BACA;AAHA,4BAIA;wCACA;yCACA;uBACA;wCACA;AACA;wBACA;AACA;AACA;0BACA;;sBAEA;sBACA;yBACA;4BAEA;AALA;;oBAOA;AADA,4BAEA;wCACA;gDACA;uBACA;wCACA;AACA;wBACA;AACA;AACA;4BACA;mCACA;+BACA;kHACA;+BACA;AACA;+BACA;+BACA;AAEA;AA5DA;AAxBA,G;;;;;;;ACzJA;AACA;;;AAGA;AACA,uCAAwC,qBAAqB,UAAU,UAAU,kBAAkB,2BAA2B,kBAAkB,SAAS,UAAU,mBAAmB,kBAAkB,eAAe,iBAAiB,gBAAgB,kBAAkB,iBAAiB,iBAAiB,0BAA0B,cAAc,iBAAiB,YAAY,cAAc,OAAO,WAAW,iBAAiB,QAAQ,WAAW,iBAAiB;;AAEtc;;;;;;;;ACPA;AACA;;;AAGA;AACA,mDAAoD,iBAAiB,mCAAmC,oBAAoB,yBAAyB,mBAAmB,yDAAyD,qBAAqB,2DAA2D,qBAAqB,UAAU,mDAAmD,iBAAiB,eAAe,kCAAkC,kBAAkB,0BAA0B,kBAAkB,gBAAgB,6BAA6B,eAAe,yCAAyC,cAAc,eAAe,gBAAgB,wCAAwC,iBAAiB;;AAE9sB;;;;;;;;ACPA;AACA;;;AAGA;AACA,mDAAoD,iBAAiB,mCAAmC,oBAAoB,yBAAyB,mBAAmB,yDAAyD,qBAAqB,2DAA2D,qBAAqB,UAAU,mDAAmD,iBAAiB,eAAe,kCAAkC,kBAAkB,0BAA0B,kBAAkB,gBAAgB,6BAA6B,eAAe,yCAAyC,cAAc,eAAe,gBAAgB,wCAAwC,iBAAiB;;AAE9sB;;;;;;;;;ACNA;AACA,uBAA8N;AAC9N,uBAA+N;;AAE/N;AACA;AACA;AACA;AACA,yBAA4H;AAC5H;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AChBA,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC,qB;;;;;;;ACtMD,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC,qB;;;;;;;AChVD;;AAEA;AACA,qCAA4P;AAC5P;AACA;AACA;AACA,gE;;;;;;;ACPA;;AAEA;AACA,qCAA+O;AAC/O;AACA;AACA;AACA,gE;;;;;;;ACPA;;AAEA;AACA,qCAA+O;AAC/O;AACA;AACA;AACA,gE","file":"1.build.js","sourcesContent":["\n/* styles */\nrequire(\"!!vue-loader/node_modules/vue-style-loader!css-loader?minimize!../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-80ecf3c6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader!../../style/index.styl\")\n\nvar Component = require(\"!../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=script&index=0!./index.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-80ecf3c6\\\"}!../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=template&index=0!./index.vue\"),\n  /* scopeId */\n  \"data-v-80ecf3c6\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/projectCost/index.vue\n// module id = 215\n// module chunks = 1","<template>\r\n    <!--<div scope-slot=\"title\">{{costDetails[0].projectName}}</div>-->\r\n    <div>\r\n        <div class=\"header\">\r\n            <ul class=\"head-ul\">\r\n                <li>{{costDetails[0].projectName}}</li>\r\n                <li>项目负责人:{{costDetails[0].leader}}</li>\r\n                <li>项目分类:{{costDetails[0].type}}</li>\r\n            </ul>\r\n        </div>\r\n        <div class=\"toolbar\">\r\n            <div class=\"form-row\">\r\n                <div class=\"form-input\">\r\n                    <label>姓名</label>\r\n                    <el-input v-model=\"userName\"></el-input>\r\n                </div>\r\n                <div class=\"form-input\">\r\n                    <label>部门</label>\r\n                    <el-input v-model=\"dept\"></el-input>\r\n                </div>\r\n                <div class=\"form-input\">\r\n                    <label>级别</label>\r\n                    <el-select filterable v-model=\"level\" clearable placeholder=\"请选择\" style=\"width:100%\">\r\n                        <el-option\r\n                                v-for=\"cate in statusList\"\r\n                                :key=\"cate.id\"\r\n                                :label=\"cate.name\"\r\n                                :value=\"cate.id\">\r\n                        </el-option>\r\n                    </el-select>\r\n                </div>\r\n                <div class=\"form-input\">\r\n                    <el-button type=\"success\" @click=\"getCostInfo\">搜索</el-button>\r\n                </div>\r\n                <div class=\"form-input-last\">\r\n                    <el-button-group>\r\n                        <el-button type=\"primary\" @click=\"addRow\">新增</el-button>\r\n                        <el-button type=\"primary\" @clisk=\"save\">保存</el-button>\r\n                    </el-button-group>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <el-table :data=\"detailsList\"\r\n                  tooltip-effect=\"dark\"\r\n                  width=\"100%\"\r\n                  height=\"210\"\r\n                  border>\r\n            <el-table-column label=\"姓名\" width=\"120\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-input v-model=\"scope.row.user_name\" @blur=\"getInfoByPerson(scope.row)\"></el-input>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"级别\" prop=\"level\">\r\n            </el-table-column>\r\n            <el-table-column label=\"部门\" prop=\"dept\">\r\n            </el-table-column>\r\n            <el-table-column label=\"进场时间\" width=\"156px\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-date-picker  style=\"width:136px\" v-model=\"scope.row.entry_time\" @blur=\"getPrice(scope.row)\"></el-date-picker>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"退场时间\" width=\"156px\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-date-picker style=\"width:136px\" v-model=\"scope.row.exit_time\" @blur=\"getPrice(scope.row)\"></el-date-picker>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"人天/天\" prop=\"per_time_count\">\r\n            </el-table-column>\r\n            <!--<el-table-column label=\"月份/月\" prop=\"month\">-->\r\n            <!--</el-table-column>-->\r\n            <el-table-column label=\"人员单价总计\" width=\"120\" prop=\"per_price_count\">\r\n            </el-table-column>\r\n            <el-table-column label=\"杂项总计\" prop=\"dept_price_count\">\r\n            </el-table-column>\r\n            <el-table-column label=\"费用总计\" prop=\"per_count\">\r\n            </el-table-column>\r\n        </el-table>\r\n    </div>\r\n</template>\r\n<style lang=\"stylus\" src=\"../../../style/index.styl\" scoped></style>\r\n<script>\r\n    export default{\r\n        data(){\r\n            return {\r\n                userName:'',\r\n                dept:'',\r\n                level:''\r\n            }\r\n        },\r\n        props:{\r\n            costDetails:Array,\r\n            detailsList:Array\r\n        },\r\n        created(){\r\n        },\r\n        methods:{\r\n            addRow(){\r\n                this.detailsList.push({id:this.costDetails[0].id,user_id:null,entry_time:null,exit_time:null,per_time_count:null,month:null,per_price:null,per_price_count:null,dept:null,dept_price:null,dept_price_count:null,dept_cate_id:null,user_name:null,create_time:null,update_time:null,per_count:null,count:null,time_count:null,month_count:null,level_id:null,level:null});\r\n            },\r\n            getCostInfo(){\r\n                const loading = this.$loading({\r\n                    lock: true,\r\n                    text: 'Loading',\r\n                    spinner: 'el-icon-loading',\r\n                    background: 'rgba(0, 0, 0, 0.7)'\r\n                });\r\n                this.$ajax.post('http://127.0.0.1:3000/getProjectCostDetail', this.$qs.stringify({\r\n                    id: this.costDetails[0].id,\r\n                    userName:this.userName,\r\n                    dept:this.dept,\r\n                    level:this.level\r\n                })).then(res => {\r\n                    if (res.data.code == 1) {\r\n                        this.detailsList = res.data.costInfo;\r\n                    } else {\r\n                        this.$message.error(\"项目成本信息获取失败！\");\r\n                    }\r\n                    loading.close();\r\n                })\r\n            },\r\n            getInfoByPerson(row){\r\n                const loading = this.$loading({\r\n                    lock: true,\r\n                    text: 'Loading',\r\n                    spinner: 'el-icon-loading',\r\n                    background: 'rgba(0, 0, 0, 0.7)'\r\n                });\r\n                this.$ajax.post('http://127.0.0.1:3000/getInfoByPerson', this.$qs.stringify({\r\n                    userName: row.user_name,\r\n                })).then(res => {\r\n                    let info=[];\r\n                    if (res.data.code == 1) {\r\n                        info = res.data.personInfo;\r\n                        row.dept_cate_id = info[0].deptId;\r\n                        row.dept=info[0].dept;\r\n                        row.level_id=info[0].level_id;\r\n                        row.level=info[0].level;\r\n                        row.per_price=info[0].levelPrice;\r\n                        row.dept_price = info[0].deptPrice;\r\n                    } else {\r\n                        this.$message.error(\"人员信息获取失败！\");\r\n                    }\r\n                    loading.close();\r\n                })\r\n            },\r\n            getPrice(row){\r\n                if(row.entry_time && row.exit_time){\r\n                    if(row.entry_time<row.exit_time){\r\n                        const beginDate = new Date(row.entry_time);//开始时间\r\n                        const endDate = new Date(row.exit_time);//结束日期\r\n                        let workDayVal = (endDate - beginDate)/86400000 + 1;//日期差值,即包含周六日、以天为单位的工时，86400000=1000*60*60*24.\r\n                        let remainder = workDayVal % 7;//工时的余数\r\n                        let divisor = Math.floor(workDayVal / 7);//工时向下取整的除数\r\n                        let weekendDay = 2 * divisor;\r\n                        var nextDay = beginDate.getDay();//起始日期的星期，星期取值有（1,2,3,4,5,6,0）\r\n                        for(var tempDay = remainder; tempDay>=1; tempDay--) {//从起始日期的星期开始 遍历remainder天\r\n                            //第一天不用加1\r\n                            if(tempDay == remainder) {\r\n                                nextDay = nextDay + 0;\r\n                            } else if(tempDay != remainder) {\r\n                                nextDay = nextDay + 1;\r\n                            }\r\n                            if(nextDay == 7) { nextDay = 0;}//周日，变更为0\r\n                            if(nextDay == 0 || nextDay == 6) {weekendDay = weekendDay + 1;}//周六日\r\n                        }\r\n                        workDayVal = workDayVal - weekendDay;//实际工时（天） = 起止日期差 - 周六日数目。\r\n                        row.per_time_count=workDayVal;\r\n                        row.month=workDayVal/22;\r\n                        row.per_price_count=row.per_time_count*row.per_price;\r\n                        row.dept_price_count=row.per_time_count*row.dept_price;\r\n                        row.per_count=row.per_price_count+row.dept_price_count;\r\n                        console.log(workDayVal);\r\n                    }else{\r\n                        row.entry_time = null;\r\n                        row.exit_time=null;\r\n                        this.$mesage({type:'warning',message:'警告：退场时间必须大于进场时间'});\r\n                    }\r\n                }\r\n\r\n            },\r\n            save(){\r\n                const loading = this.$loading({\r\n                    lock: true,\r\n                    text: 'Loading',\r\n                    spinner: 'el-icon-loading',\r\n                    background: 'rgba(0, 0, 0, 0.7)'\r\n                });\r\n                this.$ajax.post('http://127.0.0.1:3000/saveProjectCostDetail', this.$qs.stringify({\r\n                    list:this.detailsList\r\n                })).then(res => {\r\n                    if (res.data.code == 1) {\r\n                        this.$message({\r\n                            type:'success',\r\n                            message:'修改成功'\r\n                        });\r\n                    } else {\r\n                        this.$message.error(\"项目成本信息获取失败！\");\r\n                    }\r\n                    loading.close();\r\n                })\r\n            }\r\n        }\r\n    }\r\n</script>\r\n<style lang=\"stylus\">\r\n    .form-content\r\n        display:inline-block\r\n        width 30%\r\n    .form-row\r\n        position: relative\r\n        .form-input-last\r\n            position absolute\r\n            top 22px\r\n            right 2px\r\n    .dialog_head_title\r\n        text-align: center;font-size:24px;line-height: 24px;font-weight: 700;margin-bottom:5px\r\n    .el-dialog__body\r\n        padding 2px 20px\r\n    .el-table td, .el-table th\r\n        padding 5px 0px\r\n    .el-input__inner\r\n        height 36px\r\n        padding 0px 3px\r\n    .right\r\n        width: 100%\r\n        text-align: right\r\n    .center\r\n        width: 100%\r\n        margin-left 38vw\r\n</style>\n\n\n// WEBPACK FOOTER //\n// costDetails.vue?3aaeadd0","<template>\r\n    <div class=\"content\">\r\n        <div class=\"toolbar\">\r\n            <div class=\"form-row\">\r\n                <div class=\"form-input\">\r\n                    <label>项目名称</label>\r\n                    <el-input v-model=\"projectName\"></el-input>\r\n                </div>\r\n                <div class=\"form-input\">\r\n                    <label>项目负责人</label>\r\n                    <el-input v-model=\"projectOwnerName\"></el-input>\r\n                </div>\r\n                <div class=\"form-input\">\r\n                    <label>项目状态</label>\r\n                    <el-select filterable v-model=\"projectStatus\" clearable placeholder=\"请选择\" style=\"width:100%\">\r\n                        <el-option\r\n                                v-for=\"cate in statusList\"\r\n                                :key=\"cate.id\"\r\n                                :label=\"cate.name\"\r\n                                :value=\"cate.id\">\r\n                        </el-option>\r\n                    </el-select>\r\n                </div>\r\n                <div class=\"form-input\">\r\n                    <el-button type=\"success\" @click=\"getList\">搜索</el-button>\r\n                </div>\r\n            </div>\r\n            <div class=\"toolbar-action\">\r\n                <el-button-group>\r\n                    <el-button type=\"primary\" @click=\"addSave\">保存</el-button>\r\n                </el-button-group>\r\n            </div>\r\n        </div>\r\n        <el-table\r\n                :data=\"list\"\r\n                tooltip-effect=\"dark\"\r\n                height=\"520\"\r\n                border\r\n                @selection-change=\"handleSelectionChange\">\r\n            <el-table-column type=\"selection\" width=\"55\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"project_name\" label=\"项目名称\" width=\"210\">\r\n                <!--<template slot-scope=\"scope\">-->\r\n                    <!--<el-input v-model=\"scope.row.project_name\"-->\r\n                              <!--:disabled=\"multipleSelection.indexOf(scope.row) === -1\"></el-input>-->\r\n                <!--</template>-->\r\n            </el-table-column>\r\n            <el-table-column label=\"项目负责人\" width=\"100\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-input v-model=\"scope.row.leader_name\"\r\n                              :disabled=\"multipleSelection.indexOf(scope.row) === -1\"></el-input>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"项目类型\" width=\"128\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-select filterable v-model=\"scope.row.projectType\" clearable placeholder=\"请选择\" :disabled = \" scope.row.id && multipleSelection.indexOf(scope.row) === -1\">\r\n                        <el-option\r\n                                v-for=\"cate in ptOptions\"\r\n                                :key=\"cate.id\"\r\n                                :label=\"cate.name\"\r\n                                :value=\"cate.id\">\r\n                        </el-option>\r\n                    </el-select>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"项目分类\" width=\"146\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-select filterable v-model=\"scope.row.cate_id\" clearable placeholder=\"请选择\" :disabled = \"scope.row.id && multipleSelection.indexOf(scope.row) === -1 \">\r\n                        <el-option\r\n                                v-for=\"cate in cateOptions\"\r\n                                :key=\"cate.id\"\r\n                                :label=\"cate.name\"\r\n                                :value=\"cate.id\">\r\n                        </el-option>\r\n                    </el-select>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"项目状态\" width=\"158\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-select filterable v-model=\"scope.row.state\" clearable placeholder=\"请选择\" style=\"width:100%\">\r\n                        <el-option\r\n                                v-for=\"cate in statusList\"\r\n                                :key=\"cate.id\"\r\n                                :label=\"cate.name\"\r\n                                :value=\"cate.id\">\r\n                        </el-option>\r\n                    </el-select>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"in_cost\" label=\"投入成本\">\r\n                <!--<template slot-scope=\"scope\">-->\r\n                    <!--<el-date-picker type=\"date\" style=\"width:136px\" v-model=\"scope.row.online_time\"-->\r\n                                    <!--:disabled=\"multipleSelection.indexOf(scope.row) === -1\"></el-date-picker>-->\r\n                <!--</template>-->\r\n            </el-table-column>\r\n            <el-table-column prop=\"consume_cost\" label=\"消耗成本\">\r\n            </el-table-column>\r\n            <el-table-column label=\"剩余成本\">\r\n                <template slot-scope=\"scope\">\r\n                    {{scope.row.in_cost-scope.row.consume_cost}}\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"in_per_unit\" label=\"投入人天\">\r\n                <!--<template slot-scope=\"scope\">-->\r\n                    <!--<el-input v-model=\"scope.row.in_per_unit\" readonly></el-input>-->\r\n                <!--</template>-->\r\n            </el-table-column>\r\n            <el-table-column prop=\"consume_per_unit\" label=\"已用人天\">\r\n                <!--<template slot-scope=\"scope\">-->\r\n                    <!--<el-input v-model=\"scope.row.consume_per_unit\" readonly></el-input>-->\r\n                <!--</template>-->\r\n            </el-table-column>\r\n            <el-table-column label=\"剩余人天\">\r\n                <template slot-scope=\"scope\">\r\n                    {{scope.row.in_per_unit-scope.row.consume_per_unit}}\r\n                </template>\r\n            </el-table-column>\r\n\r\n            <el-table-column prop=\"consumation_ratio\" label=\"消耗费用比\" width=\"100\">\r\n                    <!--<template slot-scope=\"scope\">-->\r\n                        <!--<el-input v-model=\"scope.row.consumation_ratio\" readonly></el-input>-->\r\n                    <!--</template>-->\r\n            </el-table-column>\r\n            <el-table-column prop=\"project_progress\" label=\"项目进度比\" width=\"100\">\r\n                <!--<template slot-scope=\"scope\">-->\r\n                    <!--<el-input v-model=\"scope.row.project_progress\" readonly></el-input>-->\r\n                <!--</template>-->\r\n            </el-table-column>\r\n            <el-table-column label=\"操作\" width=\"240\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-button v-show=\"scope.row.id\" type=\"primary\" @click=\"getCostDetails(scope.row)\">成本明细</el-button>\r\n                    <el-button v-show=\"scope.row.id\" type=\"primary\" @click=\"getTeamAttendance(scope.row)\">组员考勤</el-button>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n        <el-dialog\r\n                title=\"成本明细\"\r\n                :visible.sync=\"costVisible\"\r\n                width=\"80%\">\r\n            <cost :costDetails=\"costDetails\" :detailsList=\"detailsList\"></cost>\r\n        </el-dialog>\r\n        <el-dialog\r\n                title=\"组员考勤\"\r\n                :visible.sync=\"teamVisible\"\r\n                width=\"80%\">\r\n            <cost></cost>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n<style lang=\"stylus\" src=\"../../style/index.styl\" scoped></style>\r\n<script>\r\n    import cost from './child/costDetails.vue'\r\n    export default{\r\n        data(){\r\n            return {\r\n                projectName:'',\r\n                projectOwnerName:'',\r\n                projectStatus:'',\r\n                statusList:[{id:1,name:'正常'},{id:2,name:'逾期'},{id:3,name:'中止'},{id:4,name:'结束'}],\r\n                list:[],\r\n                multipleSelection:[],\r\n                cateOptions:[],\r\n                ptOptions:[{id:1,name:'内部产品研发'},{id:2,name:'实施类-人天'},{id:3,name:'实施类-固定金额'}],\r\n                costDetails:[],\r\n                detailsList:[],\r\n                costVisible:false,\r\n                teamVisible:false\r\n            }\r\n        },\r\n        components:{\r\n            cost\r\n        },\r\n        created(){\r\n            this.getCateInfo();\r\n            this.getList();\r\n        },\r\n        methods:{\r\n            getCateInfo(){\r\n                this.$ajax.post('http://127.0.0.1:3000/getCateIds').then(res=>{\r\n                    if(res.data.code==1){\r\n                        this.cateOptions = res.data.cateIds;\r\n                    }else{\r\n                        this.$message.error(\"部门信息获取失败！\")\r\n                    }\r\n                })\r\n            },\r\n            handleSelectionChange(val) {\r\n                this.multipleSelection = val;\r\n            },\r\n            getList() {\r\n                const loading = this.$loading({\r\n                    lock: true,\r\n                    text: 'Loading',\r\n                    spinner: 'el-icon-loading',\r\n                    background: 'rgba(0, 0, 0, 0.7)'\r\n                });\r\n                this.$ajax.post('http://127.0.0.1:3000/getProjectCost', this.$qs.stringify({\r\n                    projectName: this.projectName,\r\n                    owner: this.projectOwnerName,\r\n                    status:this.projectStatus\r\n                })).then(res => {\r\n                    if (res.data.code == 1) {\r\n                        this.list = res.data.costInfo;\r\n                    } else {\r\n                        this.$message.error(\"项目成本信息获取失败！\");\r\n                    }\r\n                    loading.close();\r\n                })\r\n            },\r\n            getCostDetail(id){\r\n                const loading = this.$loading({\r\n                    lock: true,\r\n                    text: 'Loading',\r\n                    spinner: 'el-icon-loading',\r\n                    background: 'rgba(0, 0, 0, 0.7)'\r\n                });\r\n                this.$ajax.post('http://127.0.0.1:3000/getProjectCostDetail', this.$qs.stringify({\r\n                    id: id,\r\n                })).then(res => {\r\n                    if (res.data.code == 1) {\r\n                        this.detailsList = res.data.costInfo;\r\n                    } else {\r\n                        this.$message.error(\"项目成本信息获取失败！\");\r\n                    }\r\n                    loading.close();\r\n                })\r\n            },\r\n            getCostDetails(row){\r\n                this.getCostDetail(row.id);\r\n                this.costDetails=[];\r\n                this.costDetails.push({id:row.id,projectName:row.project_name,leader:row.leader_name,type:row.cate_id});\r\n                this.costVisible = true;\r\n            },\r\n            getTeamAttendance(row){\r\n                this.teamVisible = true;\r\n            },\r\n        }\r\n    }\r\n</script>\n\n\n// WEBPACK FOOTER //\n// index.vue?411d6037","exports = module.exports = require(\"../../../../node_modules/_css-loader@0.25.0@css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".form-content{display:inline-block;width:30%}.form-row{position:relative}.form-row .form-input-last{position:absolute;top:22px;right:2px}.dialog_head_title{text-align:center;font-size:24px;line-height:24px;font-weight:700;margin-bottom:5px}.el-dialog__body{padding:2px 20px}.el-table td,.el-table th{padding:5px 0}.el-input__inner{height:36px;padding:0 3px}.right{width:100%;text-align:right}.center{width:100%;margin-left:38vw}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_css-loader@0.25.0@css-loader?minimize!./~/_vue-loader@11.3.4@vue-loader/lib/style-compiler?{\"id\":\"data-v-0ee5220d\",\"scoped\":false,\"hasInlineConfig\":false}!./~/_stylus-loader@3.0.2@stylus-loader!./~/_vue-loader@11.3.4@vue-loader/lib/selector.js?type=styles&index=1!./src/views/projectCost/child/costDetails.vue\n// module id = 233\n// module chunks = 1","exports = module.exports = require(\"../../node_modules/_css-loader@0.25.0@css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".content[data-v-0ee5220d]{margin:30px 20px}.content .toolbar[data-v-0ee5220d]{padding:0 20px 10px;background-color:#eff2f7;margin-bottom:10px}.content .toolbar .form-row .form-input[data-v-0ee5220d]{display:inline-block}.content .toolbar .form-row .form-content[data-v-0ee5220d]{display:inline-block;width:30%}.content .toolbar .toolbar-action[data-v-0ee5220d]{text-align:right;padding:10px 0}.el-dialog__body[data-v-0ee5220d]{padding:10px 15px}.head-ul[data-v-0ee5220d]{text-align:center;list-style:none}.head-ul li[data-v-0ee5220d]{display:inline}.head-ul li[data-v-0ee5220d]:first-child{display:block;font-size:20px;font-weight:700}.head-ul li[data-v-0ee5220d]:last-child{margin-left:30px}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_css-loader@0.25.0@css-loader?minimize!./~/_vue-loader@11.3.4@vue-loader/lib/style-compiler?{\"id\":\"data-v-0ee5220d\",\"scoped\":true,\"hasInlineConfig\":false}!./~/_stylus-loader@3.0.2@stylus-loader!./src/style/index.styl\n// module id = 234\n// module chunks = 1","exports = module.exports = require(\"../../node_modules/_css-loader@0.25.0@css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".content[data-v-80ecf3c6]{margin:30px 20px}.content .toolbar[data-v-80ecf3c6]{padding:0 20px 10px;background-color:#eff2f7;margin-bottom:10px}.content .toolbar .form-row .form-input[data-v-80ecf3c6]{display:inline-block}.content .toolbar .form-row .form-content[data-v-80ecf3c6]{display:inline-block;width:30%}.content .toolbar .toolbar-action[data-v-80ecf3c6]{text-align:right;padding:10px 0}.el-dialog__body[data-v-80ecf3c6]{padding:10px 15px}.head-ul[data-v-80ecf3c6]{text-align:center;list-style:none}.head-ul li[data-v-80ecf3c6]{display:inline}.head-ul li[data-v-80ecf3c6]:first-child{display:block;font-size:20px;font-weight:700}.head-ul li[data-v-80ecf3c6]:last-child{margin-left:30px}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_css-loader@0.25.0@css-loader?minimize!./~/_vue-loader@11.3.4@vue-loader/lib/style-compiler?{\"id\":\"data-v-80ecf3c6\",\"scoped\":true,\"hasInlineConfig\":false}!./~/_stylus-loader@3.0.2@stylus-loader!./src/style/index.styl\n// module id = 245\n// module chunks = 1","\n/* styles */\nrequire(\"!!vue-loader/node_modules/vue-style-loader!css-loader?minimize!../../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-0ee5220d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader!../../../style/index.styl\")\nrequire(\"!!vue-loader/node_modules/vue-style-loader!css-loader?minimize!../../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-0ee5220d\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader!../../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=styles&index=1!./costDetails.vue\")\n\nvar Component = require(\"!../../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=script&index=0!./costDetails.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0ee5220d\\\"}!../../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=template&index=0!./costDetails.vue\"),\n  /* scopeId */\n  \"data-v-0ee5220d\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/projectCost/child/costDetails.vue\n// module id = 251\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', {\n    staticClass: \"header\"\n  }, [_c('ul', {\n    staticClass: \"head-ul\"\n  }, [_c('li', [_vm._v(_vm._s(_vm.costDetails[0].projectName))]), _vm._v(\" \"), _c('li', [_vm._v(\"项目负责人:\" + _vm._s(_vm.costDetails[0].leader))]), _vm._v(\" \"), _c('li', [_vm._v(\"项目分类:\" + _vm._s(_vm.costDetails[0].type))])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"toolbar\"\n  }, [_c('div', {\n    staticClass: \"form-row\"\n  }, [_c('div', {\n    staticClass: \"form-input\"\n  }, [_c('label', [_vm._v(\"姓名\")]), _vm._v(\" \"), _c('el-input', {\n    model: {\n      value: (_vm.userName),\n      callback: function($$v) {\n        _vm.userName = $$v\n      },\n      expression: \"userName\"\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"form-input\"\n  }, [_c('label', [_vm._v(\"部门\")]), _vm._v(\" \"), _c('el-input', {\n    model: {\n      value: (_vm.dept),\n      callback: function($$v) {\n        _vm.dept = $$v\n      },\n      expression: \"dept\"\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"form-input\"\n  }, [_c('label', [_vm._v(\"级别\")]), _vm._v(\" \"), _c('el-select', {\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"filterable\": \"\",\n      \"clearable\": \"\",\n      \"placeholder\": \"请选择\"\n    },\n    model: {\n      value: (_vm.level),\n      callback: function($$v) {\n        _vm.level = $$v\n      },\n      expression: \"level\"\n    }\n  }, _vm._l((_vm.statusList), function(cate) {\n    return _c('el-option', {\n      key: cate.id,\n      attrs: {\n        \"label\": cate.name,\n        \"value\": cate.id\n      }\n    })\n  }))], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"form-input\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"success\"\n    },\n    on: {\n      \"click\": _vm.getCostInfo\n    }\n  }, [_vm._v(\"搜索\")])], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"form-input-last\"\n  }, [_c('el-button-group', [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.addRow\n    }\n  }, [_vm._v(\"新增\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"clisk\": _vm.save\n    }\n  }, [_vm._v(\"保存\")])], 1)], 1)])]), _vm._v(\" \"), _c('el-table', {\n    attrs: {\n      \"data\": _vm.detailsList,\n      \"tooltip-effect\": \"dark\",\n      \"width\": \"100%\",\n      \"height\": \"210\",\n      \"border\": \"\"\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"label\": \"姓名\",\n      \"width\": \"120\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-input', {\n          on: {\n            \"blur\": function($event) {\n              _vm.getInfoByPerson(scope.row)\n            }\n          },\n          model: {\n            value: (scope.row.user_name),\n            callback: function($$v) {\n              _vm.$set(scope.row, \"user_name\", $$v)\n            },\n            expression: \"scope.row.user_name\"\n          }\n        })]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"级别\",\n      \"prop\": \"level\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"部门\",\n      \"prop\": \"dept\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"进场时间\",\n      \"width\": \"156px\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-date-picker', {\n          staticStyle: {\n            \"width\": \"136px\"\n          },\n          on: {\n            \"blur\": function($event) {\n              _vm.getPrice(scope.row)\n            }\n          },\n          model: {\n            value: (scope.row.entry_time),\n            callback: function($$v) {\n              _vm.$set(scope.row, \"entry_time\", $$v)\n            },\n            expression: \"scope.row.entry_time\"\n          }\n        })]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"退场时间\",\n      \"width\": \"156px\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-date-picker', {\n          staticStyle: {\n            \"width\": \"136px\"\n          },\n          on: {\n            \"blur\": function($event) {\n              _vm.getPrice(scope.row)\n            }\n          },\n          model: {\n            value: (scope.row.exit_time),\n            callback: function($$v) {\n              _vm.$set(scope.row, \"exit_time\", $$v)\n            },\n            expression: \"scope.row.exit_time\"\n          }\n        })]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"人天/天\",\n      \"prop\": \"per_time_count\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"人员单价总计\",\n      \"width\": \"120\",\n      \"prop\": \"per_price_count\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"杂项总计\",\n      \"prop\": \"dept_price_count\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"费用总计\",\n      \"prop\": \"per_count\"\n    }\n  })], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@11.3.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-0ee5220d\"}!./~/_vue-loader@11.3.4@vue-loader/lib/selector.js?type=template&index=0!./src/views/projectCost/child/costDetails.vue\n// module id = 254\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"content\"\n  }, [_c('div', {\n    staticClass: \"toolbar\"\n  }, [_c('div', {\n    staticClass: \"form-row\"\n  }, [_c('div', {\n    staticClass: \"form-input\"\n  }, [_c('label', [_vm._v(\"项目名称\")]), _vm._v(\" \"), _c('el-input', {\n    model: {\n      value: (_vm.projectName),\n      callback: function($$v) {\n        _vm.projectName = $$v\n      },\n      expression: \"projectName\"\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"form-input\"\n  }, [_c('label', [_vm._v(\"项目负责人\")]), _vm._v(\" \"), _c('el-input', {\n    model: {\n      value: (_vm.projectOwnerName),\n      callback: function($$v) {\n        _vm.projectOwnerName = $$v\n      },\n      expression: \"projectOwnerName\"\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"form-input\"\n  }, [_c('label', [_vm._v(\"项目状态\")]), _vm._v(\" \"), _c('el-select', {\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"filterable\": \"\",\n      \"clearable\": \"\",\n      \"placeholder\": \"请选择\"\n    },\n    model: {\n      value: (_vm.projectStatus),\n      callback: function($$v) {\n        _vm.projectStatus = $$v\n      },\n      expression: \"projectStatus\"\n    }\n  }, _vm._l((_vm.statusList), function(cate) {\n    return _c('el-option', {\n      key: cate.id,\n      attrs: {\n        \"label\": cate.name,\n        \"value\": cate.id\n      }\n    })\n  }))], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"form-input\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"success\"\n    },\n    on: {\n      \"click\": _vm.getList\n    }\n  }, [_vm._v(\"搜索\")])], 1)]), _vm._v(\" \"), _c('div', {\n    staticClass: \"toolbar-action\"\n  }, [_c('el-button-group', [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.addSave\n    }\n  }, [_vm._v(\"保存\")])], 1)], 1)]), _vm._v(\" \"), _c('el-table', {\n    attrs: {\n      \"data\": _vm.list,\n      \"tooltip-effect\": \"dark\",\n      \"height\": \"520\",\n      \"border\": \"\"\n    },\n    on: {\n      \"selection-change\": _vm.handleSelectionChange\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"type\": \"selection\",\n      \"width\": \"55\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"project_name\",\n      \"label\": \"项目名称\",\n      \"width\": \"210\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"项目负责人\",\n      \"width\": \"100\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-input', {\n          attrs: {\n            \"disabled\": _vm.multipleSelection.indexOf(scope.row) === -1\n          },\n          model: {\n            value: (scope.row.leader_name),\n            callback: function($$v) {\n              _vm.$set(scope.row, \"leader_name\", $$v)\n            },\n            expression: \"scope.row.leader_name\"\n          }\n        })]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"项目类型\",\n      \"width\": \"128\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-select', {\n          attrs: {\n            \"filterable\": \"\",\n            \"clearable\": \"\",\n            \"placeholder\": \"请选择\",\n            \"disabled\": scope.row.id && _vm.multipleSelection.indexOf(scope.row) === -1\n          },\n          model: {\n            value: (scope.row.projectType),\n            callback: function($$v) {\n              _vm.$set(scope.row, \"projectType\", $$v)\n            },\n            expression: \"scope.row.projectType\"\n          }\n        }, _vm._l((_vm.ptOptions), function(cate) {\n          return _c('el-option', {\n            key: cate.id,\n            attrs: {\n              \"label\": cate.name,\n              \"value\": cate.id\n            }\n          })\n        }))]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"项目分类\",\n      \"width\": \"146\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-select', {\n          attrs: {\n            \"filterable\": \"\",\n            \"clearable\": \"\",\n            \"placeholder\": \"请选择\",\n            \"disabled\": scope.row.id && _vm.multipleSelection.indexOf(scope.row) === -1\n          },\n          model: {\n            value: (scope.row.cate_id),\n            callback: function($$v) {\n              _vm.$set(scope.row, \"cate_id\", $$v)\n            },\n            expression: \"scope.row.cate_id\"\n          }\n        }, _vm._l((_vm.cateOptions), function(cate) {\n          return _c('el-option', {\n            key: cate.id,\n            attrs: {\n              \"label\": cate.name,\n              \"value\": cate.id\n            }\n          })\n        }))]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"项目状态\",\n      \"width\": \"158\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-select', {\n          staticStyle: {\n            \"width\": \"100%\"\n          },\n          attrs: {\n            \"filterable\": \"\",\n            \"clearable\": \"\",\n            \"placeholder\": \"请选择\"\n          },\n          model: {\n            value: (scope.row.state),\n            callback: function($$v) {\n              _vm.$set(scope.row, \"state\", $$v)\n            },\n            expression: \"scope.row.state\"\n          }\n        }, _vm._l((_vm.statusList), function(cate) {\n          return _c('el-option', {\n            key: cate.id,\n            attrs: {\n              \"label\": cate.name,\n              \"value\": cate.id\n            }\n          })\n        }))]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"in_cost\",\n      \"label\": \"投入成本\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"consume_cost\",\n      \"label\": \"消耗成本\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"剩余成本\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_vm._v(\"\\n                \" + _vm._s(scope.row.in_cost - scope.row.consume_cost) + \"\\n            \")]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"in_per_unit\",\n      \"label\": \"投入人天\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"consume_per_unit\",\n      \"label\": \"已用人天\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"剩余人天\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_vm._v(\"\\n                \" + _vm._s(scope.row.in_per_unit - scope.row.consume_per_unit) + \"\\n            \")]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"consumation_ratio\",\n      \"label\": \"消耗费用比\",\n      \"width\": \"100\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"project_progress\",\n      \"label\": \"项目进度比\",\n      \"width\": \"100\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"操作\",\n      \"width\": \"240\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-button', {\n          directives: [{\n            name: \"show\",\n            rawName: \"v-show\",\n            value: (scope.row.id),\n            expression: \"scope.row.id\"\n          }],\n          attrs: {\n            \"type\": \"primary\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.getCostDetails(scope.row)\n            }\n          }\n        }, [_vm._v(\"成本明细\")]), _vm._v(\" \"), _c('el-button', {\n          directives: [{\n            name: \"show\",\n            rawName: \"v-show\",\n            value: (scope.row.id),\n            expression: \"scope.row.id\"\n          }],\n          attrs: {\n            \"type\": \"primary\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.getTeamAttendance(scope.row)\n            }\n          }\n        }, [_vm._v(\"组员考勤\")])]\n      }\n    }])\n  })], 1), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": \"成本明细\",\n      \"visible\": _vm.costVisible,\n      \"width\": \"80%\"\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.costVisible = $event\n      }\n    }\n  }, [_c('cost', {\n    attrs: {\n      \"costDetails\": _vm.costDetails,\n      \"detailsList\": _vm.detailsList\n    }\n  })], 1), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": \"组员考勤\",\n      \"visible\": _vm.teamVisible,\n      \"width\": \"80%\"\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.teamVisible = $event\n      }\n    }\n  }, [_c('cost')], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@11.3.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-80ecf3c6\"}!./~/_vue-loader@11.3.4@vue-loader/lib/selector.js?type=template&index=0!./src/views/projectCost/index.vue\n// module id = 263\n// module chunks = 1","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/_css-loader@0.25.0@css-loader/index.js?minimize!../../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-0ee5220d\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_stylus-loader@3.0.2@stylus-loader/index.js!../../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector.js?type=styles&index=1!./costDetails.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/_vue-style-loader@2.0.5@vue-style-loader/lib/addStylesClient.js\")(\"449271b4\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-style-loader@2.0.5@vue-style-loader!./~/_css-loader@0.25.0@css-loader?minimize!./~/_vue-loader@11.3.4@vue-loader/lib/style-compiler?{\"id\":\"data-v-0ee5220d\",\"scoped\":false,\"hasInlineConfig\":false}!./~/_stylus-loader@3.0.2@stylus-loader!./~/_vue-loader@11.3.4@vue-loader/lib/selector.js?type=styles&index=1!./src/views/projectCost/child/costDetails.vue\n// module id = 266\n// module chunks = 1","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/_css-loader@0.25.0@css-loader/index.js?minimize!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-0ee5220d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/_stylus-loader@3.0.2@stylus-loader/index.js!./index.styl\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/_vue-style-loader@2.0.5@vue-style-loader/lib/addStylesClient.js\")(\"5f0ecb19\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-style-loader@2.0.5@vue-style-loader!./~/_css-loader@0.25.0@css-loader?minimize!./~/_vue-loader@11.3.4@vue-loader/lib/style-compiler?{\"id\":\"data-v-0ee5220d\",\"scoped\":true,\"hasInlineConfig\":false}!./~/_stylus-loader@3.0.2@stylus-loader!./src/style/index.styl\n// module id = 267\n// module chunks = 1","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/_css-loader@0.25.0@css-loader/index.js?minimize!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-80ecf3c6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/_stylus-loader@3.0.2@stylus-loader/index.js!./index.styl\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/_vue-style-loader@2.0.5@vue-style-loader/lib/addStylesClient.js\")(\"58d99596\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-style-loader@2.0.5@vue-style-loader!./~/_css-loader@0.25.0@css-loader?minimize!./~/_vue-loader@11.3.4@vue-loader/lib/style-compiler?{\"id\":\"data-v-80ecf3c6\",\"scoped\":true,\"hasInlineConfig\":false}!./~/_stylus-loader@3.0.2@stylus-loader!./src/style/index.styl\n// module id = 278\n// module chunks = 1"],"sourceRoot":""}